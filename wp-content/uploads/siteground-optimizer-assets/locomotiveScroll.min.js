(function(a,b){typeof exports=='object'&&typeof module!='undefined'?module.exports=b():typeof define=='function'&&define.amd?define(b):(a=typeof globalThis!='undefined'?globalThis:a||self,a.LocomotiveScroll=b())})(this,function(){'use strict';var h,u,B,t,ae,F,s,H,I,L,N,O,a,Q,R,S,U,g,W,k,aa,x,T,J,j,l,y,P,e,_,K;function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function $(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function o(a,b,c){return b&&$(a.prototype,b),c&&$(a,c),a}function ar(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Z(a,d){var b=Object.keys(a),c;return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),d&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),b.push.apply(b,c)),b}function q(c){for(var a=1,b;a<arguments.length;a++)b=arguments[a]!=null?arguments[a]:{},a%2?Z(Object(b),!0).forEach(function(a){ar(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):Z(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))});return c}function Y(b,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&p(b,a)}function d(a){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},d(a)}function p(a,b){return p=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},p(a,b)}function at(){if(typeof Reflect=="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function X(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function aq(b,a){return a&&(typeof a=="object"||typeof a=="function")?a:X(b)}function V(a){var b=at();return function(){var e=d(a),c,f;return b?(f=d(this).constructor,c=Reflect.construct(e,arguments,f)):c=e.apply(this,arguments),aq(this,c)}}function ap(a,b){while(!Object.prototype.hasOwnProperty.call(a,b))if(a=d(a),a===null)break;return a}function f(a,b,c){return typeof Reflect!="undefined"&&Reflect.get?f=Reflect.get:f=function(d,b,e){var c=ap(d,b),a;if(!c)return;return a=Object.getOwnPropertyDescriptor(c,b),a.get?a.get.call(e):a.value},f(a,b,c||a)}function i(a,b){return aj(a)||ah(a,b)||z(a,b)||af()}function al(a){return ak(a)||ai(a)||z(a)||ag()}function ak(a){if(Array.isArray(a))return w(a)}function aj(a){if(Array.isArray(a))return a}function ai(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}function ah(g,h){var b,c,e,f,a,d;if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(g)))return;b=[],c=!0,e=!1,f=void 0;try{for(a=g[Symbol.iterator](),d;!(c=(d=a.next()).done);c=!0)if(b.push(d.value),h&&b.length===h)break}catch(a){e=!0,f=a}finally{try{!c&&a.return!=null&&a.return()}finally{if(e)throw f}}return b}function z(a,c){if(!a)return;if(typeof a=="string")return w(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return w(a,c)}function w(c,a){(a==null||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function ag(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function af(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}h={el:document,name:'scroll',offset:[0,0],repeat:!1,smooth:!1,direction:'vertical',gestureDirection:'vertical',reloadOnContextChange:!1,lerp:.1,class:'is-inview',scrollbarContainer:!1,scrollbarClass:'c-scrollbar',scrollingClass:'has-scroll-scrolling',draggingClass:'has-scroll-dragging',smoothClass:'has-scroll-smooth',initClass:'has-scroll-init',getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:'vertical',gestureDirection:'vertical',breakpoint:1024},smartphone:{smooth:!1,direction:'vertical',gestureDirection:'vertical'}},u=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m(this,a),Object.assign(this,h,b),this.smartphone=h.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=h.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),this.namespace='locomotive',this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetHeight,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context='tablet':this.context='smartphone':this.context='desktop',this.isMobile&&(this.direction=this[this.context].direction),this.direction==='horizontal'?this.directionAxis='x':this.directionAxis='y',this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener('resize',this.checkResize,!1)}return o(a,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var a=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){a.resize(),a.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){var a,b,c;if(!this.reloadOnContextChange)return;this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==='MacIntel'&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint,a=this.context,this.isMobile?this.isTablet?this.context='tablet':this.context='smartphone':this.context='desktop',a!=this.context&&(b=a=='desktop'?this.smooth:this[a].smooth,c=this.context=='desktop'?this.smooth:this[this.context].smooth,b!=c&&window.location.reload())}},{key:"initEvents",value:function(){var a=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(b){b.addEventListener('click',a.setScrollTo,!1)})}},{key:"setScrollTo",value:function(a){a.preventDefault(),this.scrollTo(a.currentTarget.getAttribute("data-".concat(this.name,"-href"))||a.currentTarget.getAttribute('href'),{offset:a.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(f){var a=this,b=this.instance.scroll.y,e=b+this.windowHeight,c=this.instance.scroll.x,d=c+this.windowWidth;Object.entries(this.els).forEach(function(k){var j=i(k,2),h=j[0],g=j[1],l,m;g&&(!g.inView||f)&&(a.direction==='horizontal'?d>=g.left&&c<g.right&&a.setInView(g,h):e>=g.top&&b<g.bottom&&a.setInView(g,h)),g&&g.inView&&(a.direction==='horizontal'?(l=g.right-g.left,g.progress=(a.instance.scroll.x-(g.left-a.windowWidth))/(l+a.windowWidth),(d<g.left||c>g.right)&&a.setOutOfView(g,h)):(m=g.bottom-g.top,g.progress=(a.instance.scroll.y-(g.top-a.windowHeight))/(m+a.windowHeight),(e<g.top||b>g.bottom)&&a.setOutOfView(g,h)))}),this.hasScrollTicking=!1}},{key:"setInView",value:function(a,b){this.els[b].inView=!0,a.el.classList.add(a.class),this.currentElements[b]=a,a.call&&this.hasCallEventSet&&(this.dispatchCall(a,'enter'),a.repeat||(this.els[b].call=!1))}},{key:"setOutOfView",value:function(a,b){var c=this;this.els[b].inView=!1,Object.keys(this.currentElements).forEach(function(a){a===b&&delete c.currentElements[a]}),a.call&&this.hasCallEventSet&&this.dispatchCall(a,'exit'),a.repeat&&a.el.classList.remove(a.class)}},{key:"dispatchCall",value:function(a,b){this.callWay=b,this.callValue=a.call.split(',').map(function(a){return a.trim()}),this.callObj=a,this.callValue.length==1&&(this.callValue=this.callValue[0]);var c=new Event(this.namespace+'call');this.el.dispatchEvent(c)}},{key:"dispatchScroll",value:function(){var a=new Event(this.namespace+'scroll');this.el.dispatchEvent(a)}},{key:"setEvents",value:function(a,c){this.listeners[a]||(this.listeners[a]=[]);var b=this.listeners[a];b.push(c),b.length===1&&this.el.addEventListener(this.namespace+a,this.checkEvent,!1),a==='call'&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(b,d){var a,c;if(!this.listeners[b])return;if(a=this.listeners[b],c=a.indexOf(d),c<0)return;a.splice(c,1),a.index===0&&this.el.removeEventListener(this.namespace+b,this.checkEvent,!1)}},{key:"checkEvent",value:function(d){var a=this,c=d.type.replace(this.namespace,''),b=this.listeners[c];if(!b||b.length===0)return;b.forEach(function(b){switch(c){case'scroll':return b(a.instance);case'call':return b(a.callValue,a.callWay,a.callObj);default:return b()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(b,c){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var a=this;window.removeEventListener('resize',this.checkResize,!1),Object.keys(this.listeners).forEach(function(b){a.el.removeEventListener(a.namespace+b,a.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(b){b.removeEventListener('click',a.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),a}(),B=typeof globalThis!='undefined'?globalThis:typeof window!='undefined'?window:typeof global!='undefined'?global:typeof self!='undefined'?self:{};function C(b,a){return a={exports:{}},b(a,a.exports),a.exports}t=C(function(a,b){(function(){function b(){var a=window,b=document,c,q,d,i,h;if('scrollBehavior'in b.documentElement.style&&a.__forceSmoothScrollPolyfill__!==!0)return;c=a.HTMLElement||a.Element,q=468,d={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:c.prototype.scroll||k,scrollIntoView:c.prototype.scrollIntoView},i=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now;function m(a){var b=['MSIE ','Trident/','Edge/'];return new RegExp(b.join('|')).test(a)}h=m(a.navigator.userAgent)?1:0;function k(a,b){this.scrollLeft=a,this.scrollTop=b}function p(a){return.5*(1-Math.cos(Math.PI*a))}function e(a){if(a===null||typeof a!='object'||a.behavior===void 0||a.behavior==='auto'||a.behavior==='instant')return!0;if(typeof a=='object'&&a.behavior==='smooth')return!1;throw new TypeError('behavior member of ScrollOptions '+a.behavior+' is not a valid value for enumeration ScrollBehavior.')}function l(a,b){if(b==='Y')return a.clientHeight+h<a.scrollHeight;if(b==='X')return a.clientWidth+h<a.scrollWidth}function g(c,d){var b=a.getComputedStyle(c,null)['overflow'+d];return b==='auto'||b==='scroll'}function n(a){var b=l(a,'Y')&&g(a,'Y'),c=l(a,'X')&&g(a,'X');return b||c}function o(a){while(a!==b.body&&n(a)===!1)a=a.parentNode||a.host;return a}function j(b){var g=i(),c=(g-b.startTime)/q,e,f,d;c=c>1?1:c,d=p(c),e=b.startX+(b.x-b.startX)*d,f=b.startY+(b.y-b.startY)*d,b.method.call(b.scrollable,e,f),(e!==b.x||f!==b.y)&&a.requestAnimationFrame(j.bind(a,b))}function f(c,l,m){var n=i(),f,g,h,e;c===b.body?(e=a,f=a.scrollX||a.pageXOffset,g=a.scrollY||a.pageYOffset,h=d.scroll):(e=c,f=c.scrollLeft,g=c.scrollTop,h=k),j({scrollable:e,method:h,startTime:n,startX:f,startY:g,x:l,y:m})}a.scroll=a.scrollTo=function(){if(arguments[0]===void 0)return;if(e(arguments[0])===!0){d.scroll.call(a,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!='object'?arguments[0]:a.scrollX||a.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:a.scrollY||a.pageYOffset);return}f.call(a,b.body,arguments[0].left!==void 0?~~arguments[0].left:a.scrollX||a.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:a.scrollY||a.pageYOffset)},a.scrollBy=function(){if(arguments[0]===void 0)return;if(e(arguments[0])){d.scrollBy.call(a,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!='object'?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}f.call(a,b.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset))},c.prototype.scroll=c.prototype.scrollTo=function(){var a,b;if(arguments[0]===void 0)return;if(e(arguments[0])===!0){if(typeof arguments[0]=='number'&&arguments[1]===void 0)throw new SyntaxError('Value could not be converted');d.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!='object'?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}a=arguments[0].left,b=arguments[0].top,f.call(this,this,typeof a=='undefined'?this.scrollLeft:~~a,typeof b=='undefined'?this.scrollTop:~~b)},c.prototype.scrollBy=function(){if(arguments[0]===void 0)return;if(e(arguments[0])===!0){d.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})},c.prototype.scrollIntoView=function(){var c,g,h;if(e(arguments[0])===!0){d.scrollIntoView.call(this,arguments[0]===void 0||arguments[0]);return}c=o(this),g=c.getBoundingClientRect(),h=this.getBoundingClientRect(),c!==b.body?(f.call(this,c,c.scrollLeft+h.left-g.left,c.scrollTop+h.top-g.top),a.getComputedStyle(c).position!=='fixed'&&a.scrollBy({left:g.left,top:g.top,behavior:'smooth'})):a.scrollBy({left:h.left,top:h.top,behavior:'smooth'})}}a.exports={polyfill:b}})()}),ae=t.polyfill,F=function(b){Y(a,b);var c=V(a);function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b;return m(this,a),b=c.call(this,d),b.resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration='manual'),window.scrollTo(0,0)),window.addEventListener('scroll',b.checkScroll,!1),window.smoothscrollPolyfill===void 0&&(window.smoothscrollPolyfill=t,window.smoothscrollPolyfill.polyfill()),b}return o(a,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),f(d(a.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var b=this;f(d(a.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){b.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?this.instance.direction!=='down'&&(this.instance.direction='down'):window.pageYOffset<this.instance.scroll.y&&this.instance.direction!=='up'&&(this.instance.direction='up')}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var a=this,b;this.els={},b=this.el.querySelectorAll('[data-'+this.name+']'),b.forEach(function(b,o){var r=b.getBoundingClientRect(),m=b.dataset[a.name+'Class']||a.class,f=typeof b.dataset[a.name+'Id']=='string'?b.dataset[a.name+'Id']:o,k=typeof b.dataset[a.name+'Offset']=='string'?b.dataset[a.name+'Offset'].split(','):a.offset,e=b.dataset[a.name+'Repeat'],p=b.dataset[a.name+'Call'],i=b.dataset[a.name+'Target'],c,h,d,l,g,n,j,q;i!==void 0?d=document.querySelector("".concat(i)):d=b,l=d.getBoundingClientRect(),c=l.top+a.instance.scroll.y,h=l.left+a.instance.scroll.x,g=c+d.offsetHeight,n=h+d.offsetWidth,i==='#header'&&console.log(c,g),e=='false'?e=!1:e!=void 0?e=!0:e=a.repeat,j=a.getRelativeOffset(k),c=c+j[0],g=g-j[1],q={el:b,targetEl:d,id:f,class:m,top:c,bottom:g,left:h,right:n,offset:k,progress:0,repeat:e,inView:!1,call:p},a.els[f]=q,b.classList.contains(m)&&a.setInView(a.els[f],f)})}},{key:"updateElements",value:function(){var a=this;Object.entries(this.els).forEach(function(h){var d=i(h,2),e=d[0],b=d[1],f=b.targetEl.getBoundingClientRect().top+a.instance.scroll.y,g=f+b.targetEl.offsetHeight,c=a.getRelativeOffset(b.offset);a.els[e].top=f+c[0],a.els[e].bottom=g-c[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(b){var c=[0,0],a;if(b)for(a=0;a<b.length;a++)typeof b[a]=='string'?b[a].includes('%')?c[a]=parseInt(b[a].replace('%','')*this.windowHeight/100):c[a]=parseInt(b[a]):c[a]=b[a];return c}},{key:"scrollTo",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=parseInt(c.offset)||0,d=!!c.callback&&c.callback,e;if(typeof a=='string'){if(a==='top')a=this.html;else if(a==='bottom')a=this.html.offsetHeight-window.innerHeight;else if(a=document.querySelector(a),!a)return}else if(typeof a=='number')a=parseInt(a);else if(a&&a.tagName);else{console.warn('`target` parameter is not valid');return}typeof a!='number'?b=a.getBoundingClientRect().top+b+this.instance.scroll.y:b=a+b,d&&(b=b.toFixed(),e=function a(){window.pageYOffset.toFixed()===b&&(window.removeEventListener('scroll',a),d())},window.addEventListener('scroll',e)),window.scrollTo({top:b,behavior:'smooth'})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){f(d(a.prototype),"destroy",this).call(this),window.removeEventListener('scroll',this.checkScroll,!1)}}]),a}(u),s=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;function ad(a){if(a===null||a===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(a)}function ab(){var c,b,a,e,d;try{if(!Object.assign)return!1;if(c=new String('abc'),c[5]='de',Object.getOwnPropertyNames(c)[0]==='5')return!1;b={};for(a=0;a<10;a++)b['_'+String.fromCharCode(a)]=a;return!(e=Object.getOwnPropertyNames(b).map(function(a){return b[a]}),e.join('')!=='0123456789')&&(!(d={},'abcdefghijklmnopqrst'.split('').forEach(function(a){d[a]=a}),Object.keys(Object.assign({},d)).join('')!=='abcdefghijklmnopqrst'))}catch(a){return!1}}L=ab()?Object.assign:function(g,h){for(var e=ad(g),f=1,c,a,d,b;f<arguments.length;f++){a=Object(arguments[f]);for(d in a)H.call(a,d)&&(e[d]=a[d]);if(s){c=s(a);for(b=0;b<c.length;b++)I.call(a,c[b])&&(e[c[b]]=a[c[b]])}}return e};function M(){}M.prototype={on:function(a,c,d){var b=this.e||(this.e={});return(b[a]||(b[a]=[])).push({fn:c,ctx:d}),this},once:function(b,c,d){var e=this;function a(){e.off(b,a),c.apply(d,arguments)}return a._=c,this.on(b,a,d)},emit:function(c){var d=[].slice.call(arguments,1),b=((this.e||(this.e={}))[c]||[]).slice(),a=0,e=b.length;for(a;a<e;a++)b[a].fn.apply(b[a].ctx,d);return this},off:function(c,d){var e=this.e||(this.e={}),a=e[c],f=[],b,g;if(a&&d)for(b=0,g=a.length;b<g;b++)a[b].fn!==d&&a[b].fn._!==d&&f.push(a[b]);return f.length?e[c]=f:delete e[c],this}},N=M,O=C(function(b,a){(function(){var b;b=a!==null?a:this,b.Lethargy=function(){function a(a,b,c,d){this.stability=a!=null?Math.abs(a):8,this.sensitivity=b!=null?1+Math.abs(b):100,this.tolerance=c!=null?1+Math.abs(c):1.1,this.delay=d!=null?d:150,this.lastUpDeltas=function(){var a,b,c;c=[];for(a=1,b=this.stability*2;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this),this.lastDownDeltas=function(){var a,b,c;c=[];for(a=1,b=this.stability*2;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this),this.deltasTimestamp=function(){var a,b,c;c=[];for(a=1,b=this.stability*2;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}.call(this)}return a.prototype.check=function(a){var b;return a=a.originalEvent||a,a.wheelDelta!=null?b=a.wheelDelta:a.deltaY!=null?b=a.deltaY*-40:(a.detail!=null||a.detail===0)&&(b=a.detail*-40),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),b>0?(this.lastUpDeltas.push(b),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(b),this.lastDownDeltas.shift(),this.isInertia(-1))},a.prototype.isInertia=function(b){var a,c,d,e,f,g,h;return a=b===-1?this.lastDownDeltas:this.lastUpDeltas,a[0]===null?b:!(this.deltasTimestamp[this.stability*2-2]+this.delay>Date.now()&&a[0]===a[this.stability*2-1])&&(!!(d=a.slice(0,this.stability),c=a.slice(this.stability,this.stability*2),h=d.reduce(function(a,b){return a+b}),f=c.reduce(function(a,b){return a+b}),g=h/d.length,e=f/c.length,Math.abs(g)<Math.abs(e*this.tolerance)&&this.sensitivity<Math.abs(e))&&b)},a.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},a.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},a}()}).call(B)}),a=function(){return{hasWheelEvent:'onwheel'in document,hasMouseWheelEvent:'onmousewheel'in document,hasTouch:'ontouchstart'in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:'onkeydown'in document,isFirefox:navigator.userAgent.indexOf('Firefox')>-1}}(),Q=Object.prototype.toString,R=Object.prototype.hasOwnProperty,S=function(a){var b,c,d,e;if(!a)return console.warn('bindAll requires at least one argument.');if(b=Array.prototype.slice.call(arguments,1),b.length===0)for(c in a)R.call(a,c)&&typeof a[c]=='function'&&Q.call(a[c])=="[object Function]"&&b.push(c);for(d=0;d<b.length;d++)e=b[d],a[e]=ac(a[e],a)};function ac(a,b){return function(){return a.apply(b,arguments)}}U=O.Lethargy,g='virtualscroll',W=b,k={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32};function b(a){S(this,'_onWheel','_onMouseWheel','_onTouchStart','_onTouchMove','_onKeyDown'),this.el=window,a&&a.el&&(this.el=a.el,delete a.el),this.options=L({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:'vs-touchmove-allowed',limitInertia:!1,useKeyboard:!0,useTouch:!0},a),this.options.limitInertia&&(this._lethargy=new U),this._emitter=new N,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,this.options.passive!==void 0&&(this.listenerOptions={passive:this.options.passive})}b.prototype._notify=function(b){var a=this._event;a.x+=a.deltaX,a.y+=a.deltaY,this._emitter.emit(g,{x:a.x,y:a.y,deltaX:a.deltaX,deltaY:a.deltaY,originalEvent:b})},b.prototype._onWheel=function(b){var d=this.options,c;if(this._lethargy&&this._lethargy.check(b)===!1)return;c=this._event,c.deltaX=b.wheelDeltaX||b.deltaX*-1,c.deltaY=b.wheelDeltaY||b.deltaY*-1,a.isFirefox&&b.deltaMode==1&&(c.deltaX*=d.firefoxMultiplier,c.deltaY*=d.firefoxMultiplier),c.deltaX*=d.mouseMultiplier,c.deltaY*=d.mouseMultiplier,this._notify(b)},b.prototype._onMouseWheel=function(a){if(this.options.limitInertia&&this._lethargy.check(a)===!1)return;var b=this._event;b.deltaX=a.wheelDeltaX?a.wheelDeltaX:0,b.deltaY=a.wheelDeltaY?a.wheelDeltaY:a.wheelDelta,this._notify(a)},b.prototype._onTouchStart=function(a){var b=a.targetTouches?a.targetTouches[0]:a;this.touchStartX=b.pageX,this.touchStartY=b.pageY},b.prototype._onTouchMove=function(a){var b=this.options,d,c;b.preventTouch&&!a.target.classList.contains(b.unpreventTouchClass)&&a.preventDefault(),d=this._event,c=a.targetTouches?a.targetTouches[0]:a,d.deltaX=(c.pageX-this.touchStartX)*b.touchMultiplier,d.deltaY=(c.pageY-this.touchStartY)*b.touchMultiplier,this.touchStartX=c.pageX,this.touchStartY=c.pageY,this._notify(a)},b.prototype._onKeyDown=function(b){var a=this._event,c;switch(a.deltaX=a.deltaY=0,c=window.innerHeight-40,b.keyCode){case k.LEFT:case k.UP:a.deltaY=this.options.keyStep;break;case k.RIGHT:case k.DOWN:a.deltaY=-this.options.keyStep;break;case b.shiftKey:a.deltaY=c;break;case k.SPACE:a.deltaY=-c;break;default:return}this._notify(b)},b.prototype._bind=function(){a.hasWheelEvent&&this.el.addEventListener('wheel',this._onWheel,this.listenerOptions),a.hasMouseWheelEvent&&this.el.addEventListener('mousewheel',this._onMouseWheel,this.listenerOptions),a.hasTouch&&this.options.useTouch&&(this.el.addEventListener('touchstart',this._onTouchStart,this.listenerOptions),this.el.addEventListener('touchmove',this._onTouchMove,this.listenerOptions)),a.hasPointer&&a.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction='none',this.el.addEventListener('MSPointerDown',this._onTouchStart,!0),this.el.addEventListener('MSPointerMove',this._onTouchMove,!0)),a.hasKeyDown&&this.options.useKeyboard&&document.addEventListener('keydown',this._onKeyDown)},b.prototype._unbind=function(){a.hasWheelEvent&&this.el.removeEventListener('wheel',this._onWheel),a.hasMouseWheelEvent&&this.el.removeEventListener('mousewheel',this._onMouseWheel),a.hasTouch&&(this.el.removeEventListener('touchstart',this._onTouchStart),this.el.removeEventListener('touchmove',this._onTouchMove)),a.hasPointer&&a.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener('MSPointerDown',this._onTouchStart,!0),this.el.removeEventListener('MSPointerMove',this._onTouchMove,!0)),a.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener('keydown',this._onKeyDown)},b.prototype.on=function(b,c){this._emitter.on(g,b,c);var a=this._emitter.e;a&&a[g]&&a[g].length===1&&this._bind()},b.prototype.off=function(b,c){this._emitter.off(g,b,c);var a=this._emitter.e;(!a[g]||a[g].length<=0)&&this._unbind()},b.prototype.reset=function(){var a=this._event;a.x=0,a.y=0},b.prototype.destroy=function(){this._emitter.off(),this._unbind()};function r(b,c,a){return(1-a)*b+a*c}function c(e){var b={},c,d,a;if(!window.getComputedStyle)return;return c=getComputedStyle(e),d=c.transform||c.webkitTransform||c.mozTransform,a=d.match(/^matrix3d\((.+)\)$/),a?(b.x=a?parseFloat(a[1].split(', ')[12]):0,b.y=a?parseFloat(a[1].split(', ')[13]):0):(a=d.match(/^matrix\((.+)\)$/),b.x=a?parseFloat(a[1].split(', ')[4]):0,b.y=a?parseFloat(a[1].split(', ')[5]):0),b}function v(a){for(var b=[];a&&a!==document;a=a.parentNode)b.push(a);return b}aa=4,x=.001,T=1e-7,J=10,j=11,l=1/(j-1),y=typeof Float32Array=='function';function A(a,b){return 1-3*b+3*a}function D(a,b){return 3*b-6*a}function E(a){return 3*a}function n(a,b,c){return((A(b,c)*a+D(b,c))*a+E(b))*a}function G(a,b,c){return 3*A(b,c)*a*a+2*D(b,c)*a+E(b)}function am(g,b,d,e,f){var c,a,h=0;do a=b+(d-b)/2,c=n(a,e,f)-g,c>0?d=a:b=a;while(Math.abs(c)>T&&++h<J)return a}function an(f,a,b,c){for(var d=0,e,g;d<aa;++d){if(e=G(a,b,c),e===0)return a;g=n(a,b,c)-f,a-=g/e}return a}function ao(a){return a}return P=function(a,e,b,f){var c,d;if(!(0<=a&&a<=1&&0<=b&&b<=1))throw new Error('bezier x values must be in [0, 1] range');if(a===e&&b===f)return ao;c=y?new Float32Array(j):new Array(j);for(d=0;d<j;++d)c[d]=n(d*l,a,b);function g(e){for(var f=0,d=1,i=j-1,k,g,h;d!==i&&c[d]<=e;++d)f+=l;return--d,k=(e-c[d])/(c[d+1]-c[d]),g=f+k*l,h=G(g,a,b),h>=x?an(e,g,a,b):h===0?g:am(e,f,f+l,a,b)}return function(a){return a===0?0:a===1?1:n(g(a),e,f)}},e={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,TAB:9,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},_=function(b){Y(a,b);var g=V(a);function a(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b;return m(this,a),history.scrollRestoration&&(history.scrollRestoration='manual'),window.scrollTo(0,0),b=g.call(this,c),b.inertia&&(b.lerp=b.inertia*.1),b.isScrolling=!1,b.isDraggingScrollbar=!1,b.isTicking=!1,b.hasScrollTicking=!1,b.parallaxElements={},b.stop=!1,b.scrollbarContainer=c.scrollbarContainer,b.checkKey=b.checkKey.bind(X(b)),window.addEventListener('keydown',b.checkKey,!1),b}return o(a,[{key:"init",value:function(){var b=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=q({delta:{x:0,y:0}},this.instance),this.vs=new W({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf('Win')>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(a){if(b.stop)return;b.isDraggingScrollbar||requestAnimationFrame(function(){b.updateDelta(a),b.isScrolling||b.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),f(d(a.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){var b,c,a;if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,this.direction==='horizontal'){b=0,c=this.el.children;for(a=0;a<c.length;a++)b+=c[a].offsetWidth;this.instance.limit.x=b-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(b){var a=this;if(this.stop){b.keyCode==e.TAB&&requestAnimationFrame(function(){a.html.scrollTop=0,document.body.scrollTop=0,a.html.scrollLeft=0,document.body.scrollLeft=0});return}switch(b.keyCode){case e.TAB:requestAnimationFrame(function(){a.html.scrollTop=0,document.body.scrollTop=0,a.html.scrollLeft=0,document.body.scrollLeft=0,a.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case e.UP:this.instance.delta[this.directionAxis]-=240;break;case e.DOWN:this.instance.delta[this.directionAxis]+=240;break;case e.PAGEUP:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case e.PAGEDOWN:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case e.HOME:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case e.END:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case e.SPACE:!(document.activeElement instanceof HTMLInputElement)&&!(document.activeElement instanceof HTMLTextAreaElement)&&(b.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"checkScroll",value:function(){var b=this,g=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],c,h,e;(g||this.isScrolling||this.isDraggingScrollbar)&&(this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return b.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll(),c=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),h=Date.now()-this.startScrollTs,!this.animatingScroll&&h>100&&(c<.5&&this.instance.delta[this.directionAxis]!=0||c<.5&&this.instance.delta[this.directionAxis]==0)&&this.stopScrolling(),Object.entries(this.sections).forEach(function(d){var c=i(d,2),e=c[0],a=c[1];a.persistent||b.instance.scroll[b.directionAxis]>a.offset[b.directionAxis]&&b.instance.scroll[b.directionAxis]<a.limit[b.directionAxis]?(b.direction==='horizontal'?b.transform(a.el,-b.instance.scroll[b.directionAxis],0):b.transform(a.el,0,-b.instance.scroll[b.directionAxis]),a.inView||(a.inView=!0,a.el.style.opacity=1,a.el.style.pointerEvents='all',a.el.setAttribute("data-".concat(b.name,"-section-inview"),''))):(a.inView&&(a.inView=!1,a.el.style.opacity=0,a.el.style.pointerEvents='none',a.el.removeAttribute("data-".concat(b.name,"-section-inview"))),b.transform(a.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar&&(e=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis],this.direction==='horizontal'?this.transform(this.scrollbarThumb,e,0):this.transform(this.scrollbarThumb,0,e)),f(d(a.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1)}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(a){var c=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection,b;c==='both'?b=a.deltaX+a.deltaY:c==='vertical'?b=a.deltaY:c==='horizontal'?b=a.deltaX:b=a.deltaY,this.instance.delta[this.directionAxis]-=b*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(b){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=r(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?this.instance.direction!=='down'&&(this.instance.direction='down'):this.instance.delta.y<this.instance.scroll.y&&this.instance.direction!=='up'&&(this.instance.direction='up'),this.instance.delta.x>this.instance.scroll.x?this.instance.direction!=='right'&&(this.instance.direction='right'):this.instance.delta.x<this.instance.scroll.x&&this.instance.direction!=='left'&&(this.instance.direction='left')}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement('span'),this.scrollbarThumb=document.createElement('span'),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener('mousedown',this.getScrollBar),window.addEventListener('mouseup',this.releaseScrollBar),window.addEventListener('mousemove',this.moveScrollBar),this.hasScrollbar=!1,this.direction=='horizontal'){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,this.direction==='horizontal'?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,this.direction=='horizontal'){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,this.direction==='horizontal'?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener('mousedown',this.getScrollBar),window.removeEventListener('mouseup',this.releaseScrollBar),window.removeEventListener('mousemove',this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(b){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(b){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(b){var a=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var c=(b.clientX-a.scrollbarBCR.left)*100/a.scrollbarWidth*a.instance.limit.x/100,d=(b.clientY-a.scrollbarBCR.top)*100/a.scrollbarHeight*a.instance.limit.y/100;d>0&&d<a.instance.limit.y&&(a.instance.delta.y=d),c>0&&c<a.instance.limit.x&&(a.instance.delta.x=c)})}},{key:"addElements",value:function(){var a=this,b;this.els={},this.parallaxElements={},b=this.el.querySelectorAll("[data-".concat(this.name,"]")),b.forEach(function(d,F){var E=v(d),o=Object.entries(a.sections).map(function(b){var a=i(b,2),d=a[0],c=a[1];return c}).find(function(a){return E.includes(a.el)}),x=d.dataset[a.name+'Class']||a.class,p=typeof d.dataset[a.name+'Id']=='string'?d.dataset[a.name+'Id']:'el'+F,l=d.dataset[a.name+'Repeat'],D=d.dataset[a.name+'Call'],C=d.dataset[a.name+'Position'],B=d.dataset[a.name+'Delay'],G=d.dataset[a.name+'Direction'],q=typeof d.dataset[a.name+'Sticky']=='string',z=!!d.dataset[a.name+'Speed']&&parseFloat(d.dataset[a.name+'Speed'])/10,e=typeof d.dataset[a.name+'Offset']=='string'?d.dataset[a.name+'Offset'].split(','):a.offset,t=d.dataset[a.name+'Target'],h,g,f,m,k,n,y,s,u,r,w,j,b,A;if(t!==void 0?f=document.querySelector("".concat(t)):f=d,m=f.getBoundingClientRect(),o===null?(g=m.top+a.instance.scroll.y-c(f).y,h=m.left+a.instance.scroll.x-c(f).x):o.inView?(g=m.top+a.instance.scroll.y-c(f).y,h=m.left+a.instance.scroll.x-c(f).x):(g=m.top-c(o.el).y-c(f).y,h=m.left-c(o.el).x-c(f).x),k=g+f.offsetHeight,n=h+f.offsetWidth,y={x:(n-h)/2+h,y:(k-g)/2+g},q&&(s=d.getBoundingClientRect(),u=s.top,r=s.left,w={x:r-h,y:u-g},g+=window.innerHeight,h+=window.innerWidth,k=u+f.offsetHeight-d.offsetHeight-w[a.directionAxis],n=r+f.offsetWidth-d.offsetWidth-w[a.directionAxis],y={x:(n-h)/2+h,y:(k-g)/2+g}),l=='false'?l=!1:l!=void 0?l=!0:l=a.repeat,j=[0,0],e)if(a.direction==='horizontal'){for(b=0;b<e.length;b++)typeof e[b]=='string'?e[b].includes('%')?j[b]=parseInt(e[b].replace('%','')*a.windowWidth/100):j[b]=parseInt(e[b]):j[b]=e[b];h=h+j[0],n=n-j[1]}else{for(b=0;b<e.length;b++)typeof e[b]=='string'?e[b].includes('%')?j[b]=parseInt(e[b].replace('%','')*a.windowHeight/100):j[b]=parseInt(e[b]):j[b]=e[b];g=g+j[0],k=k-j[1]}A={el:d,id:p,class:x,section:o,top:g,middle:y,bottom:k,left:h,right:n,offset:e,progress:0,repeat:l,inView:!1,call:D,speed:z,delay:B,position:C,target:f,direction:G,sticky:q},a.els[p]=A,d.classList.contains(x)&&a.setInView(a.els[p],p),(z!==!1||q)&&(a.parallaxElements[p]=A)})}},{key:"addSections",value:function(){var a=this,b;this.sections={},b=this.el.querySelectorAll("[data-".concat(this.name,"-section]")),b.length===0&&(b=[this.el]),b.forEach(function(b,g){var e=typeof b.dataset[a.name+'Id']=='string'?b.dataset[a.name+'Id']:'section'+g,d=b.getBoundingClientRect(),f={x:d.left-window.innerWidth*1.5-c(b).x,y:d.top-window.innerHeight*1.5-c(b).y},h={x:f.x+d.width+window.innerWidth*2,y:f.y+d.height+window.innerHeight*2},i=typeof b.dataset[a.name+'Persistent']=='string',j;b.setAttribute('data-scroll-section-id',e),j={el:b,offset:f,limit:h,inView:!1,persistent:i,id:e},a.sections[e]=j})}},{key:"transform",value:function a(b,e,f,d){var a,g,h,i;d?(g=c(b),h=r(g.x,e,d),i=r(g.y,f,d),a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(h,",").concat(i,",0,1)")):a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(f,",0,1)"),b.style.webkitTransform=a,b.style.msTransform=a,b.style.transform=a}},{key:"transformElements",value:function(b){var a=this,f=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],c=this.instance.scroll.x+this.windowWidth,d=this.instance.scroll.y+this.windowHeight,e={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(k){var j=i(k,2),l=j[0],g=j[1],h=!1;if(b&&(h=0),g.inView||f)switch(g.position){case'top':h=a.instance.scroll[a.directionAxis]*-g.speed;break;case'elementTop':h=(d-g.top)*-g.speed;break;case'bottom':h=(a.instance.limit[a.directionAxis]-d+a.windowHeight)*g.speed;break;case'left':h=a.instance.scroll[a.directionAxis]*-g.speed;break;case'elementLeft':h=(c-g.left)*-g.speed;break;case'right':h=(a.instance.limit[a.directionAxis]-c+a.windowHeight)*g.speed;break;default:h=(e[a.directionAxis]-g.middle[a.directionAxis])*-g.speed;break}g.sticky&&(g.inView?a.direction==='horizontal'?h=a.instance.scroll.x-g.left+window.innerWidth:h=a.instance.scroll.y-g.top+window.innerHeight:a.direction==='horizontal'?a.instance.scroll.x<g.left-window.innerWidth&&a.instance.scroll.x<g.left-window.innerWidth/2?h=0:a.instance.scroll.x>g.right&&a.instance.scroll.x>g.right+100?h=g.right-g.left+window.innerWidth:h=!1:a.instance.scroll.y<g.top-window.innerHeight&&a.instance.scroll.y<g.top-window.innerHeight/2?h=0:a.instance.scroll.y>g.bottom&&a.instance.scroll.y>g.bottom+100?h=g.bottom-g.top+window.innerHeight:h=!1),h!==!1&&(g.direction==='horizontal'||a.direction==='horizontal'&&g.direction!=='vertical'?a.transform(g.el,h,0,!b&&g.delay):a.transform(g.el,0,h,!b&&g.delay))})}},{key:"scrollTo",value:function(a){var b=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=parseInt(e.offset)||0,n=e.duration||1e3,j=e.easing||[.25,0,.35,1],w=!!e.disableLerp,k=!!e.callback&&e.callback,u,m,s,r,q,o,f,g,t,h,l,x,p;if(j=P.apply(void 0,al(j)),typeof a=='string'){if(a==='top')a=0;else if(a==='bottom')a=this.instance.limit.y;else if(a==='left')a=0;else if(a==='right')a=this.instance.limit.x;else if(a=document.querySelector(a),!a)return}else if(typeof a=='number')a=parseInt(a);else if(a&&a.tagName);else{console.warn('`target` parameter is not valid');return}if(typeof a!='number'){if(u=v(a).includes(this.el),!u)return;m=a.getBoundingClientRect(),s=m.top,r=m.left,q=v(a),o=q.find(function(a){return Object.entries(b.sections).map(function(b){var a=i(b,2),d=a[0],c=a[1];return c}).find(function(b){return b.el==a})}),f=0,o?f=c(o)[this.directionAxis]:f=-this.instance.scroll[this.directionAxis],this.direction==='horizontal'?d=r+d-f:d=s+d-f}else d=a+d;g=parseFloat(this.instance.delta[this.directionAxis]),t=Math.max(0,Math.min(d,this.instance.limit[this.directionAxis])),h=t-g,l=function(a){w?b.direction==='horizontal'?b.setScroll(g+h*a,b.instance.delta.y):b.setScroll(b.instance.delta.x,g+h*a):b.instance.delta[b.directionAxis]=g+h*a},this.animatingScroll=!0,this.stopScrolling(),this.startScrolling(),x=Date.now(),p=function c(){var a=(Date.now()-x)/n;a>1?(l(1),b.animatingScroll=!1,n==0&&b.update(),k&&k()):(b.scrollToRaf=requestAnimationFrame(c),l(j(a)))},p()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.el.id=='navScroller'&&this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(a,b){this.instance=q(q({},this.instance),{},{scroll:{x:a,y:b},delta:{x:a,y:b},speed:0})}},{key:"destroy",value:function(){f(d(a.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener('keydown',this.checkKey,!1)}}]),a}(u),K=function(){function a(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};m(this,a),this.options=b,Object.assign(this,h,b),this.smartphone=h.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=h.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),!this.smooth&&this.direction=='horizontal'&&console.warn('🚨 `smooth:false` & `horizontal` direction are not yet compatible'),!this.tablet.smooth&&this.tablet.direction=='horizontal'&&console.warn('🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)'),!this.smartphone.smooth&&this.smartphone.direction=='horizontal'&&console.warn('🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)'),this.init()}return o(a,[{key:"init",value:function(){var b,a;this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.platform==='MacIntel'&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new _(this.options):this.scroll=new F(this.options),this.scroll.init(),window.location.hash&&(b=window.location.hash.slice(1,window.location.hash.length),a=document.getElementById(b),a&&this.scroll.scrollTo(a))}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(a,b){this.scroll.scrollTo(a,b)}},{key:"setScroll",value:function(a,b){this.scroll.setScroll(a,b)}},{key:"on",value:function(a,b){this.scroll.setEvents(a,b)}},{key:"off",value:function(a,b){this.scroll.unsetEvents(a,b)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),a}(),K})